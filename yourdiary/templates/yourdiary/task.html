{% extends 'yourdiary/basic.html' %}
{% load static %}


{% block content %}


<main>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  {% if request.user.is_authenticated %}
  <section class="task-creating__caption">
    <div class="container-fluid">
      <div class="col-12">
        <div class="row">
          <div class="nav-headline">
            <div class="page-naming">
              <h1>Создание задания</h1>
            </div>
           </div>
        </div>
      </div>
    </div>
  </section>
  <section class="task-creating">
    <form method="post" action="" id="taskCreateForm">
      {% csrf_token %}
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div class="task-info__caption">
              <h3>Информация о задаче</h3>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <form method="post" class="task-form">
              <div class="form-inner h-100">
                <div class="row">
                  <div class="col-6 h-100">
                    <div class="task-group">
                      {{ form.title }}
                    </div>
                    <div class="task-group task-style mt-4">
                      <div class="task-group__caption">
                        <h4>
                          Стилизация
                        </h4>
                      </div>
                      <div class="task-create-inner">
                        <div class="task-dropdown task-create__icon">
                          <button class="dropdown-button" type="button" id="iconPickDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-question" id="dropdownIcon"></i>
                          </button>
                          <ul class="dropdown-menu" aria-labelledby="iconPickDropdown" id="iconPickList">
                            <li><a class="dropdown-item icon-showout" href="#" data-icon-type="fa-ice-cream"><i class="fas fa-ice-cream"></i></a></li>
                            <li><a class="dropdown-item icon-showout" href="#" data-icon-type="fa-question"><i class="fas fa-question"></i></a></li>
                            <li><a class="dropdown-item icon-showout" href="#" data-icon-type="fa-paw"><i class="fas fa-paw"></i></a></li>
                            <li><a class="dropdown-item icon-showout" href="#" data-icon-type="fa-star"><i class="fas fa-star"></i></a></li>
                            <li><a class="dropdown-item icon-showout" href="#" data-icon-type="fa-running"><i class="fas fa-running"></i></a></li>
                            <li><a class="dropdown-item icon-showout" href="#" data-icon-type="fa-user-friends"><i class="fas fa-user-friends"></i></a></li>
                            <li><a class="dropdown-item icon-showout" href="#" data-icon-type="fa-heart"><i class="fas fa-heart"></i></a></li>
                          </ul>
                        </div>
                        <div class="task-create__text me-5">
                          Иконка
                        </div>
                        <div class="task-dropdown task-create__icon">
                          <button class="dropdown-button" type="button" id="colorPickDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                             <i class="fas fa-circle"></i>
                          </button>
                          <ul class="dropdown-menu" aria-labelledby="colorPickDropdown" id="iconColorsList">
                            <li><a class="dropdown-item color-showout" href="#" data-icon-color='#dc3545'><i class="fas fa-circle text-danger"></i></a></li>
                            <li><a class="dropdown-item color-showout" href="#" data-icon-color='#0d6efd'><i class="fas fa-circle text-primary"></i></a></li>
                            <li><a class="dropdown-item color-showout" href="#" data-icon-color='#198754'><i class="fas fa-circle text-success"></i></a></li>
                            <li><a class="dropdown-item color-showout" href="#" data-icon-color='#0dcaf0'><i class="fas fa-circle text-info"></i></a></li>
                            <li><a class="dropdown-item color-showout" href="#" data-icon-color='#ffc107'><i class="fas fa-circle text-warning"></i></a></li>
                            <li><a class="dropdown-item color-showout" href="#" data-icon-color='#6c757d'><i class="fas fa-circle text-secondary"></i></a></li>
                            <li><a class="dropdown-item color-showout" href="#" data-icon-color='#000000'><i class="fas fa-circle"></i></a></li>
                          </ul>
                        </div>
                        <div class="task-create__text">
                          Цвет
                        </div>
                      </div>
                    </div>
                    <div class="task-group">
                      {{ form.comment }}
                    </div>
                  </div>
                  <div class="col-6">
                    <!-- Тут надо дэйпикер настроить -->
                      {{ form.media }} <!-- эта хрень полем не является -->
                    <div class="task-group mt-0">
                      <label class="date-picker__label">Дата начала</label>
                      {{ form.date_start }} <!--Дата начала таска, она же и день, у которого будет отображаться этот таск-->
                    </div>
                    <div class="task-group mt-2">
                      <label class="date-picker__label">Дата окончания</label>
                      {{ form.date_end }} <!--Дата конца таска-->
                    </div>

                    <div class="task-group task-style mt-4">
                      <div class="task-create-inner">
                        <div class="task-create__text ms-0 mt-0" class="d-none">
                          Повторяющаяся задача
                        </div>
                        <div class="form-checkbox mt-1">
                          <input type="checkbox" class="custom-checkbox repeat-checkbox" name="repeatBtn" id="repeatBtn" value="yes"><label for="repeatBtn"></label>
                        </div>
                      </div>
                    </div>
                    <div id="repeatSection" class="d-none">
                      <div class="task-group task-repeat mt-1">
                        <div class="task-group__caption">
                          <h4>
                            Дни
                          </h4>
                        </div>
                        <div class="task-create-inner">
                          <div class="row">
                            <div class="col-12">
                              <div class="d-flex justified">

                                <input type="checkbox" class="task-checkbox" name="days" id="mon" value="yes"><label for="mon">ПН</label>
                                <input type="checkbox" class="task-checkbox" name="days" id="tue" value="yes"><label for="tue">ВТ</label>
                                <input type="checkbox" class="task-checkbox" name="days" id="wed" value="yes"><label for="wed">СР</label>
                                <input type="checkbox" class="task-checkbox" name="days" id="thu" value="yes"><label for="thu">ЧТ</label>
                                <input type="checkbox" class="task-checkbox" name="days" id="fri" value="yes"><label for="fri">ПТ</label>
                                <input type="checkbox" class="task-checkbox" name="days" id="sat" value="yes"><label for="sat">СБ</label>
                                <input type="checkbox" class="task-checkbox" name="days" id="sun" value="yes"><label for="sun">ВС</label>

                              </div>
                            </div>
                            <div class="col-10 mt-2">
                              <div class="d-flex justified">
                                <input type="radio" class="custom-radio" id="weekdays" name="week-group">
                                <label for="weekdays">Будни</label>
                                <input type="radio" class="custom-radio" id="weekends" name="week-group">
                                <label for="weekends">Выходные</label>
                                <input type="radio" class="custom-radio" id="daily" name="week-group">
                                <label for="daily">Ежедневно</label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="task-group task-repeat mt-4">
                        <div class="task-group__caption">
                          <h4>
                            Повторять
                          </h4>
                        </div>
                        <div class="task-create-inner">
                          <div class="row">
                            <div class="col-105">
                              <div class="d-flex">
                                <input type="radio" class="custom-radio mr-5" id="weekly" name="repeat-group">
                                <label for="weekly" class="checkbox-upscale">Раз в неделю</label>
                                <input type="radio" class="custom-radio" id="monthly" name="repeat-group">
                                <label for="monthly" class="checkbox-upscale">Раз в месяц</label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div >
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="form-finish text-center">
          <div class="container">
            <div class="row">
              <div class="col-12 mt-5">
                <button class="link-btn me-7">Создать</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </section>

  {% else %}
    <div class="container-fluid">
      <div class="main-header">
        <h1>Эта страница доступна только авторизованным пользователям</h1>

        <p style="margin-top: 40px;">Вы можете войти или зарегистрироваться на нашем сайте <a href="{% url 'login' %}" class="entry-link">здесь</a>.</p>
      </div>
    </div>
  {% endif %}
</main>
{% endblock %}

{% block scripts %}
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
  <script src="{% static 'yourdiary/js/task.js' %}"></script>
{% endblock %}